<h1>List submissions</h1>

<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.8/angular.min.js"></script>
<script type="text/javascript">
  function SubmissionListController($scope, $http) {
    $http.get('/submissions/public.json').success( function(data, status, headers, config) {
      $scope.submissions = data;
      $scope.order = 'week'
    });


    $scope.search = {student_number:'', course_id:<%=@course.id%>}
  }
</script>
<div ng-app ng-controller="SubmissionListController">
  search: <input ng-model="search.student_number" />
    <table id="submissions-table">
      <thead>
        <tr>
          <th>Studentnumber</th>
          <th>Week</th>
          <th>Hours spent</th>
          <th>Done</th>
          <th>Total Exercises</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="submission in submissions | orderBy:order | filter:search">
        <td>{{submission.student_number}}</td>
        <td>{{submission.week}}</td>
        <td>{{submission.hours}}</td>
        <td>{{submission.total}}</td>
        <td>{{submission.exercises_at_this_week}}</td>
    </li>
      </tbody>
    </table>

</div>
